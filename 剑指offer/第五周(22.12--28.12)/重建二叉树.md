# 剑指offer 07. 重建二叉树

### 题目地址：[重建二叉树](https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/)



### 题目描述：

>输入某二叉树的前序遍历和中序遍历的结果，请构建该二叉树并返回其根节点。
>
>假设输入的前序遍历和中序遍历的结果中都不含重复的数字。



### 解答方法：

1. 超时

```java
class Solution {
    public double myPow(double x, int n) {
        double res = x;
        long tmp = n;
        if(tmp == 0 || x == 1)return 1;
        if(tmp > 0){
            for(int i = 1; i < tmp ; i++){
                res *= x;
            }
        }else{
            tmp = -tmp;
            x = 1/x;
            res = x;
            for(double i = 1; i < tmp ; i++){
                res *= x;
            }
        }
        return res;
    }
}
```

> 正确思路：快速幂，位运算

```java
class Solution {
    public double myPow(double x, int n) {
        if(x == 0) return 0;
        if(n == 0) return 1;
        long l = n;
        double res = 1.0;
        if(l < 0){
            l = -l;
            x = 1 / x;
        }
        while(l != 0){
            if((l & 1) == 1){
                res *= x;
            }
            x *= x;
            l >>= 1; 
        }
        return res;
    }
}
```

